## <a href = "../../README.md" target="_blank">스레드(Thread)</a>

### 1. 프로세스와 스레드
#### 1.2 프로세스와 스레드
1) 프로세스와 스레드
2) 멀티스레드의 장점
3) 멀티스레드의 단점
4) 멀티 프로세스 vs 멀티 스레드

---

## 1) 프로세스와 스레드

1. 프로그램  
   storage(HDD, SSD ,...) 에 저장된 실행코드

2. 프로세스 : 프로그램 실행 시, OS로부터 실행에 필요한 자원(메모리, 실행 시간)을 할당받고, 할당된 메모리 상에서 프로세스가 된다.  
3. 스레드 : 실제로 프로세스의 자원을 이용하여, 작업을 수행하는 흐름, 작업의 최소 단위 또는 작업의 주체. 
   - 모든 프로세스에는 최소 1개의 스레드가 존재함.
   - 멀티 스레드 프로세스 : 둘 이상의 스레드를 가진 프로세스.

---

## 2) 멀티스레드의 장점
1. CPU의 사용률을 향상시킨다.
   - 주어진 공통의 자원을 기반으로 여러 스레드가 나눠서 동시에 작업하기 때문
2. 자원을 보다 효율적으로 사용할 수 있다.
   - 멀티 프로세스 대비 메모리를 적게 사용함. (데이터 저장공간 공유)
3. 사용자에 대한 응답성이 향상된다.
   - 예> 파일을 업로드를 하면서, 채팅을 할 수 있음. 싱글 스레드에서는 파일이 업로드되길 기다린 뒤, 채팅을 해야함.
4. 작업이 분리되어 코드가 간결해진다.

---

## 3) 멀티스레드의 단점 : 동기화, 교착상태

같은 프로세스 내에서, 동일한 자원을 공유하여 사용하는 점에서 오는 문제들이 존재한다.

1. Synchronization(동기화)
   - 각 스레드에서 동일한 자원(멤버)에 접근할 때 생기는 충돌문제
2. DeadLock (교착상태)
   - 두개 이상의 스레드가 동일한 자원을 사용해야하는 상황에서, 각 스레드들이 점유한 자원을 사용하려고 기다리느라 작업 진행이 멈춘 상태.

---

## 4) 멀티 프로세스 vs 멀티 스레드

![MultiThread](img/MultiThread.jpg)  ![MultiProcess](img/MultiProcess.jpg)

1. 멀티 스레드 
   - OS에서 하나의 데잉터 저장공간을 할당받고, 그 중에서 Stack 영역을 스레드 갯수만큼 분할해서 사용
   - 한 스레드의 Stack 영역에서, 다른 스레드의 Stack 영역에 접근할 수 없지만 Static 영역, Heap 영역을 공유해서 사용
     - 멀티 프로세스 대비 메모리를 적게 사용함

2. 멀티 프로세스
   - OS로부터 다수의 데이터 저장공간을 할당받고, 각 프로세스마다 고유의 공간이므로 서로 참조할 수 없다.
   - 다른 프로세스의 데이터 저장공간을 절대 침범할 수 없는 안전한 구조.
     - 하지만 멀티 스레드 대비 메모리 사용량이 크다.

3. 웹 프로그래밍에서
   - 서블릿(Servelet)은 요청당 프로세스가 아닌, 요청당 스레드를 생성한다. (매번 프로세스를 생성하면 그만큼 메모리 낭비가 커짐)

---