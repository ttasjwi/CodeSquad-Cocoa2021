# 스레드(Thread)

자바 웹 어플리케이션 개발에 있어, 멀티스레드 처리에 대한 부분은 스프링 프레임 워크에 의존하지만 스레드에 대한 이해가 어느 정도 필요하다.

---

# 1. 프로세스와 스레드

## 1.1 JVM의 메모리 구조
1. JDK, JRE, JVM
2. JVM의 메모리 구조

## <a href="1. 프로세스와 스레드/1.2 프로세스와 스레드/README.md" target="_blank">1.2 프로세스와 스레드</a>
1. 프로세스와 스레드
2. 멀티스레드의 장단점
3. 멀티 프로세스 vs 멀티 스레드

---

# 2. 스레드의 구현 및 실행

## 2.1 Thread
1) public class Thread
2) Thread 클래스의 메서드들

## 2.2 스레드의 구현
1) Thread 클래스 상속
2) Runnable 인터페이스을 구현체 이용 

## 2.3 스레드의 실행
1. 스레드의 실행 : start()
2. start()와 run()
3. main 스레드

---

# 3. 싱글 스레드, 멀티 쓰레드

## 3.1 싱글쓰레드, 멀티 쓰레드
## 3.2 I/O 블락킹

---

# 4. 쓰레드의 우선순위

## 4.1 쓰레드의 우선순위 지정
## 4.2 할당시간

---

# 5. 쓰레드 그룹

## 5.1 ThreadGroup
## 5.2 ThreadGroup에 포함시키기


# 데몬 쓰레드
# 쓰레드의 실행 제어
# 쓰레드의 동기화


---

## 1. JDK, JRE, JVM

- JDK : 자바 개발 도구
  - 포함 : JRE, 개발에 필요한 여러 프로그램(javac.exe[자바컴파일러] , ... )
- JRE : 자바 실행 환경
  - 포함 : JVM, 기본 제공되는 클래스 라이브러리(java.lang.\*, java.util.\*, ... )
- JVM : 자바 가상 머신
  - java 프로그램을 실행하기 위한 가상의 기계. 반드시 설치되어야함.

JDK 설치 : <a href="https://www.oracle.com/java/technologies/downloads/" target="_blank">Oracle java 다운로드 페이지 (회원가입 필요)</a>

---

## 2. JVM의 메모리 구조

1. 코드 실행영역 : 실제 실행될 코드가 저장되는 영역. CPU는 코드영역에 저장된 명령어를 하나씩 수행한다.
2. 데이터 저장 영역
   - static 영역 : 기본 import 패키지의 클래스들(java.lang.*), import된 패키지의 클래스들, 프로그램 상의 모든 클래스 및 그 static 멤버들에 대한 정보가 저장됨
   - Heap 영역 : 생성된 인스턴스들의 정보가 저장되는 공간.
      - 그 어떤 변수도 참조하지 않는(Unreachable) 인스턴스들은 Garbage Collector(GC)에 의해 Heap영역에서 제거된다.
   - Stack 영역: 실행된 메서드들의 정보가 저장되는 공간. Stack 자료구조(FILO)를 따른다.
     - 쓰레드 갯수만큼 분할해서 사용됨
     - Stack Frame : Stack에 실제 올려지는 함수(메서드)의 호출정보

---

## 3. 프로세스와 쓰레드

1. 프로그램  
storage(HDD, SSD ,...) 에 저장된 실행코드


2. 프로세스 : 프로그램 실행 시, OS로부터 실행에 필요한 자원(메모리, 실행 시간)을 할당받고, 할당된 메모리 상에서 프로세스가 된다.

3. 쓰레드 : 실제로 프로세스의 자원을 이용하여, 작업을 수행하는 흐름, 작업의 단위 또는 작업의 주체.
   - 멀티 쓰레드 프로세스 : 둘 이상의 쓰레드를 가진 프로세스.
   - 멀티프로세스 vs 멀티 쓰레드

---

## 4. 멀티쓰레딩의 장단점

1) 장점
   - CPU의 사용률을 향상시킴. (주어진 자원을 여러 쓰레드가 나눠서 동시에 작업하기 때문) 
   - 자원을 효율적으로 사용할 수 있다.
   - 사용자에 대한 응답성이 향상된다. (사용자 입장에서 작업 A를 수행하고 다른 작업 B를 수행하려면 그만큼의 대기시간이 필요함.)
   - 작업이 분리되어 코드가 간결해진다.
    
2) 단점
   - 동기화(Synchronization) : 자원(Heap영역, static영역에 저장된 데이터들)을 공유하는 것에서 오는 충돌문제
   - 교착상태(deadlock) : 동일 자원을 두개 이상의 쓰레드가 사용하는 상황에서, 다른 쓰레드가 사용중인 쓰레드를 기다리는 과정에서 생기는 정지 상태)
   - 기아상태 : 각 쓰레드가 효율적으로 고르게 실행될 수 있게 해야함.
   - 이런 점에서 고려할 점이 많다.

---

## 5. 멀티 프로세스 vs 멀티 쓰레드
